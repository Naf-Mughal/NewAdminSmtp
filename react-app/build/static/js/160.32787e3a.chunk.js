"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[160],{4979:(e,i,n)=>{n.d(i,{A:()=>d});var s=n(3464),l=n(8170),t=n(4414);const d=e=>{const{open:i}=e;return(0,t.jsx)(s.A,{open:i,maxWidth:"lg",children:(0,t.jsx)(l.A,{className:"p-16",children:(0,t.jsxs)("div",{class:"lds-roller",children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{})]})})})}},2160:(e,i,n)=>{n.r(i),n.d(i,{default:()=>R});var s=n(9950),l=n(6491),t=n(5769),d=n(4075),o=n(1671),c=n(1320),a=n(9780),r=n(6780),u=n(9213),h=n(7251),v=n(2053),x=n(2235),m=n(1295),j=n(8429),f=n(327),g=n(6365),p=n(4382),A=n(1608),b=n(917),T=n(7738),S=n(2935),P=n(2875),w=n(1950),N=n(2741),y=n(4979),C=n(4414);function E(e,i,n){return i[n]<e[n]?-1:i[n]>e[n]?1:0}const M=[{id:"id",label:"Connection Id"},{id:"startTime",label:"Start Time"},{id:"endTime",label:"End Time"},{id:"timeDifference",label:"Time Difference"},{id:"connectionsEstablished",label:"Connections Type"}];function D(e){const{order:i,orderBy:n,onRequestSort:s}=e;return(0,C.jsx)(a.A,{children:(0,C.jsx)(u.A,{children:M.map((e=>{return(0,C.jsx)(o.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&i,children:(0,C.jsxs)(h.A,{active:n===e.id,direction:n===e.id?i:"asc",onClick:(t=e.id,e=>{s(e,t)}),children:[e.label,n===e.id?(0,C.jsx)(l.A,{component:"span",sx:m.A,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))})})}function R(){const e=(0,j.Zp)(),[i,n]=s.useState("asc"),[a,h]=s.useState("calories"),[m,M]=s.useState([]),[R,k]=s.useState([]),[I,H]=s.useState([]),[O,q]=s.useState([]),[z,B]=s.useState(0),[G,K]=s.useState(10),[V,W]=s.useState([]),[F,Z]=s.useState(!0),[J,L]=s.useState([]);let Q;P.CMH,g.mV5,b.lcK,g.RGO,f.Fx2,g.mV5,f.rRo,p.P5p,g.RGO,A.EHK,T.Ohx,S.qTh,w.wii;const U=async e=>{var i;Q=Number(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)||e,K(Q)};async function X(){try{var e=[];await N.A.get("http://63.250.47.159:8080/api/state").then((i=>{var n,s,l,t,d,o,c;null===i||void 0===i||null===(n=i.data)||void 0===n||null===(s=n.connectionRounds)||void 0===s||s.forEach(((i,n)=>{var s;e.push({startTime:null===i||void 0===i?void 0:i.startTime,endTime:null===i||void 0===i?void 0:i.endTime,timeDifference:null===i||void 0===i?void 0:i.timeDifference,connectionsEstablished:null===i||void 0===i||null===(s=i.connectionsEstablished)||void 0===s?void 0:s.message})})),null===i||void 0===i||null===(l=i.data)||void 0===l||null===(t=l.updateMailsRounds)||void 0===t||t.forEach(((i,n)=>{var s;e.push({startTime:null===i||void 0===i?void 0:i.startTime,endTime:null===i||void 0===i?void 0:i.endTime,timeDifference:null===i||void 0===i?void 0:i.timeDifference,connectionsEstablished:null===i||void 0===i||null===(s=i.connectionsEstablished)||void 0===s?void 0:s.message})})),k(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.emailClients),H(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.inActiveClients),q(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.accounts)})),W(e)}catch(i){}}const Y=z>0?Math.max(0,(1+z)*G-V.length):0;var $=s.useMemo((()=>function(e,i){const n=e.map(((e,i)=>[e,i]));return n.sort(((e,n)=>{const s=i(e[0],n[0]);return 0!==s?s:e[1]-n[1]})),n.map((e=>e[0]))}(V,function(e,i){return"desc"===e?(e,n)=>E(e,n,i):(e,n)=>-E(e,n,i)}(i,a)).slice(z*G,z*G+G)),[i,a,z,G]);return s.useEffect((()=>{X().then((()=>{U(5),Z(!1)}));const e=setInterval((()=>{X()}),1e4);return()=>{clearInterval(e)}}),[!1]),200===J&&(e(0),L(0)),(0,C.jsxs)(l.A,{sx:{width:"100%"},children:[(0,C.jsx)(y.A,{open:F}),(0,C.jsxs)("div",{className:"grid grid-flow-row grid-cols-4 items-center justify-center gap-4 w-full h-full",children:[(0,C.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,C.jsx)("h1",{className:"font-bold text-xl",children:"Active Accounts"}),(0,C.jsx)("h5",{className:"flex gap-1 items-center",children:R.length})]}),(0,C.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,C.jsx)("h1",{className:"font-bold text-xl",children:"Inactive Accounts"}),(0,C.jsx)("h5",{className:"flex gap-1 items-center",children:I.length})]}),null===O||void 0===O?void 0:O.map(((e,i)=>(0,C.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,C.jsx)("h1",{className:"font-bold text-xl",children:null===e||void 0===e?void 0:e.Domain}),(0,C.jsxs)("h5",{className:"flex gap-1 items-center",children:[null===e||void 0===e?void 0:e.Email," ",(0,C.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(null!==e&&void 0!==e&&e.active?"bg-green-600":"bg-red-600")})]}),(0,C.jsxs)("h5",{children:["SMTP Host: ",e["SMTP Host"]]}),(0,C.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,C.jsxs)("h5",{children:["IMAP Port: ",e["IMAP Port"]]}),(0,C.jsxs)("h5",{children:["SMTP Port: ",e["SMTP Port"]]})]})]},i)))]}),(0,C.jsxs)(x.A,{sx:{width:"100%",mb:2,mt:2},children:[(0,C.jsx)("div",{className:"flex justify-between items-center h-20 px-4",children:(0,C.jsx)(v.A,{sx:{flex:"1 1 100%"},variant:"h2",id:"tableTitle",component:"div",children:"Mails"})}),(0,C.jsx)(c.A,{children:(0,C.jsxs)(t.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,C.jsx)(D,{numSelected:m.length,order:i,orderBy:a,onSelectAllClick:e=>{if(e.target.checked){const e=V.map((e=>e.id));M(e)}else M([])},onRequestSort:(e,s)=>{n(a===s&&"asc"===i?"desc":"asc"),h(s)},rowCount:V.length}),(0,C.jsxs)(d.A,{children:[null===$||void 0===$?void 0:$.map(((e,i)=>(0,C.jsxs)(u.A,{tabIndex:-1,children:[(0,C.jsx)(o.A,{component:"th",scope:"row",children:i}),(0,C.jsx)(o.A,{children:null===e||void 0===e?void 0:e.startTime}),(0,C.jsx)(o.A,{children:null===e||void 0===e?void 0:e.endTime}),(0,C.jsx)(o.A,{children:null===e||void 0===e?void 0:e.timeDifference}),(0,C.jsx)(o.A,{children:null===e||void 0===e?void 0:e.connectionsEstablished})]},i))),Y>0&&(0,C.jsx)(u.A,{style:{height:53*Y},children:(0,C.jsx)(o.A,{colSpan:6})})]})]})}),(0,C.jsx)(r.A,{rowsPerPageOptions:[5,10,25],component:"div",count:V.length,rowsPerPage:G,page:z,onPageChange:(e,i)=>{B(i)},onRowsPerPageChange:U})]})]})}}}]);