"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[160],{2160:(e,i,n)=>{n.r(i),n.d(i,{default:()=>D});var l=n(9950),t=n(6491),s=n(5769),d=n(4075),o=n(1671),c=n(1320),a=n(9780),r=n(6780),u=n(9213),h=n(7251),v=n(2053),m=n(2235),x=n(1295),f=n(8429),j=n(327),g=n(6365),p=n(4382),b=n(1608),A=n(917),T=n(7738),S=n(2935),P=n(2875),w=n(1950),y=n(2741),N=n(4414);function C(e,i,n){return i[n]<e[n]?-1:i[n]>e[n]?1:0}const E=[{id:"id",label:"Connection Id"},{id:"startTime",label:"Start Time"},{id:"endTime",label:"End Time"},{id:"timeDifference",label:"Time Difference"},{id:"connectionsEstablished",label:"Connections Type"}];function M(e){const{order:i,orderBy:n,onRequestSort:l}=e;return(0,N.jsx)(a.A,{children:(0,N.jsx)(u.A,{children:E.map((e=>{return(0,N.jsx)(o.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&i,children:(0,N.jsxs)(h.A,{active:n===e.id,direction:n===e.id?i:"asc",onClick:(s=e.id,e=>{l(e,s)}),children:[e.label,n===e.id?(0,N.jsx)(t.A,{component:"span",sx:x.A,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var s}))})})}function D(){const e=(0,f.Zp)(),[i,n]=l.useState("asc"),[a,h]=l.useState("calories"),[x,E]=l.useState([]),[D,R]=l.useState([]),[k,I]=l.useState([]),[H,O]=l.useState([]),[q,z]=l.useState(0),[B,G]=l.useState(10),[K,V]=l.useState([]),[F,W]=l.useState([]);let Z;P.CMH,g.mV5,A.lcK,g.RGO,j.Fx2,g.mV5,j.rRo,p.P5p,g.RGO,b.EHK,T.Ohx,S.qTh,w.wii;const J=async e=>{var i;Z=Number(null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)||e,G(Z)};async function L(){try{var e=[];await y.A.get("http://63.250.47.159:8080/api/state").then((i=>{var n,l,t,s,d,o,c;null===i||void 0===i||null===(n=i.data)||void 0===n||null===(l=n.connectionRounds)||void 0===l||l.forEach(((i,n)=>{var l;e.push({startTime:null===i||void 0===i?void 0:i.startTime,endTime:null===i||void 0===i?void 0:i.endTime,timeDifference:null===i||void 0===i?void 0:i.timeDifference,connectionsEstablished:null===i||void 0===i||null===(l=i.connectionsEstablished)||void 0===l?void 0:l.message})})),null===i||void 0===i||null===(t=i.data)||void 0===t||null===(s=t.updateMailsRounds)||void 0===s||s.forEach(((i,n)=>{var l;e.push({startTime:null===i||void 0===i?void 0:i.startTime,endTime:null===i||void 0===i?void 0:i.endTime,timeDifference:null===i||void 0===i?void 0:i.timeDifference,connectionsEstablished:null===i||void 0===i||null===(l=i.connectionsEstablished)||void 0===l?void 0:l.message})})),R(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.emailClients),I(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.inActiveClients),O(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.accounts)})),V(e)}catch(i){}}const Q=q>0?Math.max(0,(1+q)*B-K.length):0;var U=l.useMemo((()=>function(e,i){const n=e.map(((e,i)=>[e,i]));return n.sort(((e,n)=>{const l=i(e[0],n[0]);return 0!==l?l:e[1]-n[1]})),n.map((e=>e[0]))}(K,function(e,i){return"desc"===e?(e,n)=>C(e,n,i):(e,n)=>-C(e,n,i)}(i,a)).slice(q*B,q*B+B)),[i,a,q,B]);return l.useEffect((()=>{L().then((()=>{J(5)}));const e=setInterval((()=>{L()}),1e4);return()=>{clearInterval(e)}}),[!1]),200===F&&(e(0),W(0)),(0,N.jsxs)(t.A,{sx:{width:"100%"},children:[(0,N.jsxs)("div",{className:"grid grid-flow-row grid-cols-4 items-center justify-center gap-4 w-full h-full",children:[(0,N.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,N.jsx)("h1",{className:"font-bold text-xl",children:"Active Accounts"}),(0,N.jsx)("h5",{className:"flex gap-1 items-center",children:D.length})]}),(0,N.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,N.jsx)("h1",{className:"font-bold text-xl",children:"Inactive Accounts"}),(0,N.jsx)("h5",{className:"flex gap-1 items-center",children:k.length})]}),null===H||void 0===H?void 0:H.map(((e,i)=>(0,N.jsxs)("div",{className:"card h-[200px] flex flex-col justify-center bg-[#09141a] items-center rounded-xl gap-2",children:[(0,N.jsx)("h1",{className:"font-bold text-xl",children:null===e||void 0===e?void 0:e.Domain}),(0,N.jsxs)("h5",{className:"flex gap-1 items-center",children:[null===e||void 0===e?void 0:e.Email," ",(0,N.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(null!==e&&void 0!==e&&e.active?"bg-green-600":"bg-red-600")})]}),(0,N.jsxs)("h5",{children:["SMTP Host: ",e["SMTP Host"]]}),(0,N.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,N.jsxs)("h5",{children:["IMAP Port: ",e["IMAP Port"]]}),(0,N.jsxs)("h5",{children:["SMTP Port: ",e["SMTP Port"]]})]})]},i)))]}),(0,N.jsxs)(m.A,{sx:{width:"100%",mb:2,mt:2},children:[(0,N.jsx)("div",{className:"flex justify-between items-center h-20 px-4",children:(0,N.jsx)(v.A,{sx:{flex:"1 1 100%"},variant:"h2",id:"tableTitle",component:"div",children:"Mails"})}),(0,N.jsx)(c.A,{children:(0,N.jsxs)(s.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,N.jsx)(M,{numSelected:x.length,order:i,orderBy:a,onSelectAllClick:e=>{if(e.target.checked){const e=K.map((e=>e.id));E(e)}else E([])},onRequestSort:(e,l)=>{n(a===l&&"asc"===i?"desc":"asc"),h(l)},rowCount:K.length}),(0,N.jsxs)(d.A,{children:[null===U||void 0===U?void 0:U.map(((e,i)=>(0,N.jsxs)(u.A,{tabIndex:-1,children:[(0,N.jsx)(o.A,{component:"th",scope:"row",children:i}),(0,N.jsx)(o.A,{children:null===e||void 0===e?void 0:e.startTime}),(0,N.jsx)(o.A,{children:null===e||void 0===e?void 0:e.endTime}),(0,N.jsx)(o.A,{children:null===e||void 0===e?void 0:e.timeDifference}),(0,N.jsx)(o.A,{children:null===e||void 0===e?void 0:e.connectionsEstablished})]},i))),Q>0&&(0,N.jsx)(u.A,{style:{height:53*Q},children:(0,N.jsx)(o.A,{colSpan:6})})]})]})}),(0,N.jsx)(r.A,{rowsPerPageOptions:[5,10,25],component:"div",count:K.length,rowsPerPage:B,page:q,onPageChange:(e,i)=>{z(i)},onRowsPerPageChange:J})]})]})}}}]);